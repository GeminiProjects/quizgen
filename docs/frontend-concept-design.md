# PopQuiz 前端概念设计文档

## 1. 设计理念

### 1.1 核心设计原则
- **简约现代**：采用 shadcn/ui 的设计语言，干净清爽的界面风格
- **响应迅速**：实时更新，低延迟的用户体验
- **移动优先**：确保在各种设备上的良好体验
- **无障碍设计**：符合 WCAG 2.1 AA 标准
- **渐进增强**：核心功能在低端设备也能正常使用

### 1.2 视觉风格
- **色彩方案**：
  - 主色：蓝色系（知识、专业）
  - 辅助色：绿色（正确）、红色（错误）、黄色（警告）
  - 中性色：灰色系（背景、边框）
- **字体系统**：
  - 中文：思源黑体
  - 英文：Inter
  - 代码：JetBrains Mono
- **间距系统**：基于 8px 网格
- **圆角风格**：中等圆角（8px），营造友好感

## 2. 信息架构

### 2.1 用户流程图

```
首页
├── 未登录
│   ├── 产品介绍
│   ├── 功能特点
│   └── 登录/注册
└── 已登录
    ├── 我的控制台
    │   ├── 我创建的演讲
    │   ├── 我参与的演讲
    │   └── 个人统计
    ├── 创建演讲
    │   ├── 上传材料
    │   ├── AI 生成题目
    │   └── 预览和调整
    └── 加入演讲
        ├── 输入演讲码
        └── 扫描二维码
```

### 2.2 页面路由结构

```
/                          # 首页/控制台
├── /auth
│   ├── /login            # 登录页
│   └── /register         # 注册页
├── /dashboard            # 用户控制台
│   ├── /created          # 我创建的演讲
│   ├── /attended         # 我参与的演讲
│   └── /stats            # 个人统计
├── /lecture
│   ├── /new              # 创建新演讲
│   ├── /[id]             # 听众视图
│   │   ├── /quiz         # 答题界面
│   │   └── /results      # 结果页面
│   ├── /[id]/speaker     # 演讲者视图
│   └── /[id]/edit        # 编辑演讲
└── /profile              # 个人设置
```

## 3. 核心页面设计

### 3.1 首页（未登录状态）

**布局结构：**
```
┌─────────────────────────────────────┐
│         导航栏（Logo + 登录按钮）      │
├─────────────────────────────────────┤
│                                     │
│     Hero 区域                        │
│     - 产品 Slogan                   │
│     - 核心价值描述                    │
│     - CTA 按钮组                     │
│                                     │
├─────────────────────────────────────┤
│     功能特点（3列网格）               │
│     ┌───┐  ┌───┐  ┌───┐           │
│     │ 1 │  │ 2 │  │ 3 │           │
│     └───┘  └───┘  └───┘           │
├─────────────────────────────────────┤
│     使用流程（时间线）                │
└─────────────────────────────────────┘
```

**关键组件：**
- Hero Section：大标题 + 副标题 + 双按钮（创建演讲/加入演讲）
- Feature Cards：图标 + 标题 + 描述
- Process Timeline：步骤指示器

### 3.2 用户控制台

**布局结构：**
```
┌─────────────────────────────────────┐
│         顶部导航栏                    │
├────────┬────────────────────────────┤
│        │                            │
│ 侧边栏  │      主内容区               │
│        │                            │
│ - 概览  │   ┌──────┐ ┌──────┐      │
│ - 创建的 │   │ Card │ │ Card │      │
│ - 参与的 │   └──────┘ └──────┘      │
│ - 统计  │                           │
│        │   演讲列表（表格/卡片）       │
└────────┴────────────────────────────┘
```

**关键组件：**
- 统计卡片：显示关键数据（总演讲数、总参与人数等）
- 演讲卡片/列表：缩略图 + 标题 + 时间 + 操作按钮
- 快速操作浮动按钮

### 3.3 创建演讲流程

**步骤设计：**
```
步骤 1：基本信息
┌─────────────────────────────────────┐
│  演讲标题 [___________________]      │
│  演讲描述 [___________________]      │
│  预计时长 [下拉选择]                  │
│  标签分类 [多选标签]                  │
└─────────────────────────────────────┘

步骤 2：上传材料
┌─────────────────────────────────────┐
│  ┌─────────────────────────┐       │
│  │                         │       │
│  │    拖拽文件到此处         │       │
│  │    或点击选择文件         │       │
│  │                         │       │
│  └─────────────────────────┘       │
│  支持格式：PDF、PPT、TXT、音频、视频   │
└─────────────────────────────────────┘

步骤 3：AI 生成题目
┌─────────────────────────────────────┐
│  AI 正在分析您的内容...              │
│  [████████████░░░░░] 75%           │
│                                     │
│  已生成题目列表：                     │
│  ┌─────────────────────────┐       │
│  │ 题目 1 [编辑] [删除]     │       │
│  │ 题目 2 [编辑] [删除]     │       │
│  └─────────────────────────┘       │
└─────────────────────────────────────┘
```

### 3.4 听众答题界面

**设计要点：**
```
┌─────────────────────────────────────┐
│          剩余时间：25秒              │
│       [████████████░░░░░]           │
├─────────────────────────────────────┤
│                                     │
│   第 3 题（共 10 题）                │
│                                     │
│   什么是 React Hooks 的主要优势？     │
│                                     │
│   ┌─────────────────────────┐      │
│   │ A. 提升性能              │      │
│   └─────────────────────────┘      │
│   ┌─────────────────────────┐      │
│   │ B. 简化状态管理          │      │
│   └─────────────────────────┘      │
│   ┌─────────────────────────┐      │
│   │ C. 替代类组件            │      │
│   └─────────────────────────┘      │
│   ┌─────────────────────────┐      │
│   │ D. 以上都是              │      │
│   └─────────────────────────┘      │
│                                     │
└─────────────────────────────────────┘
```

**交互细节：**
- 点击选项后立即高亮
- 倒计时最后 5 秒变红并闪烁
- 答题后显示正确答案和解释
- 平滑过渡到下一题

### 3.5 演讲者实时统计界面

**布局设计：**
```
┌─────────────────────────────────────┐
│    当前题目：第 3 题                  │
├─────────────────────────────────────┤
│                                     │
│   答题进度                           │
│   ┌─────────────────┐              │
│   │  已答: 45/60    │              │
│   │  75% ████████░░ │              │
│   └─────────────────┘              │
│                                     │
│   正确率分布                         │
│   ┌─────────────────┐              │
│   │     饼图         │              │
│   │   A: 20%        │              │
│   │   B: 45% ✓      │              │
│   │   C: 25%        │              │
│   │   D: 10%        │              │
│   └─────────────────┘              │
│                                     │
│   [推送下一题] [结束演讲]            │
└─────────────────────────────────────┘
```

## 4. 组件系统

### 4.1 基础组件（来自 shadcn/ui）
- **Button**：主要、次要、轮廓、文本、危险等变体
- **Card**：内容容器，支持头部、内容、底部
- **Dialog**：模态对话框
- **Form**：表单组件集合
- **Toast**：通知提示
- **Progress**：进度条
- **Badge**：标签/徽章

### 4.2 业务组件（需要开发）

```typescript
// 题目卡片组件
interface QuizCardProps {
  question: string
  options: Option[]
  timeLimit: number
  onAnswer: (answer: string) => void
  disabled?: boolean
}

// 统计图表组件
interface StatsChartProps {
  data: StatData[]
  type: 'pie' | 'bar' | 'line'
  realtime?: boolean
}

// 演讲卡片组件
interface LectureCardProps {
  lecture: Lecture
  variant: 'speaker' | 'attendee'
  onAction?: () => void
}

// 倒计时组件
interface CountdownProps {
  duration: number
  onComplete: () => void
  warning?: number // 警告时间阈值
}
```

### 4.3 布局组件

```typescript
// 页面容器
interface PageContainerProps {
  title?: string
  description?: string
  actions?: ReactNode
  children: ReactNode
}

// 仪表板布局
interface DashboardLayoutProps {
  sidebar?: ReactNode
  children: ReactNode
}

// 步骤向导
interface StepperProps {
  steps: Step[]
  currentStep: number
  onStepChange: (step: number) => void
}
```

## 5. 交互设计规范

### 5.1 动画和过渡
- **页面切换**：淡入淡出，持续时间 200ms
- **卡片悬停**：轻微上浮 + 阴影加深
- **按钮点击**：缩放反馈（scale: 0.95）
- **加载状态**：骨架屏 + 脉冲动画
- **数据更新**：数字滚动动画

### 5.2 响应式断点
```css
/* 移动端 */
@media (max-width: 640px) { }

/* 平板 */
@media (min-width: 641px) and (max-width: 1024px) { }

/* 桌面端 */
@media (min-width: 1025px) { }
```

### 5.3 状态反馈
- **加载中**：Spinner + 加载文字
- **空状态**：插图 + 引导文字 + CTA 按钮
- **错误状态**：错误图标 + 错误信息 + 重试按钮
- **成功状态**：成功图标 + Toast 通知

## 6. 移动端适配

### 6.1 触控优化
- 最小可点击区域：44x44px
- 按钮间距：至少 8px
- 滑动手势支持（切换题目）
- 下拉刷新支持

### 6.2 布局调整
- 单列布局为主
- 底部固定操作栏
- 全屏答题模式
- 简化的统计视图

## 7. 暗色模式设计

### 7.1 色彩调整
- 背景色：#0a0a0a → #ffffff
- 文字色：#fafafa → #0a0a0a
- 卡片背景：#18181b → #ffffff
- 边框色：#27272a → #e5e5e5

### 7.2 实现方式
- 使用 CSS 变量
- 系统主题自动检测
- 用户手动切换选项
- 主题状态持久化

## 8. 性能优化考虑

### 8.1 首屏加载
- 路由级代码分割
- 图片懒加载
- 关键 CSS 内联
- 预连接 WebSocket

### 8.2 运行时优化
- React.memo 优化重渲染
- 虚拟列表（长列表）
- Debounce 搜索输入
- 缓存 API 响应

## 9. 下一步计划

1. **阶段一**：实现核心页面布局和路由
2. **阶段二**：集成 Better Auth 认证系统
3. **阶段三**：开发答题和统计功能
4. **阶段四**：WebSocket 实时通信
5. **阶段五**：移动端优化和 PWA